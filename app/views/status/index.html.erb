<h1>Status</h1>

<% if @current_status.nil? %>
  Awaiting status info
<% else %>

  <h2>Current Status</h2>
  <%= render 'status_item', status: @current_status %>

  <h2>Previous Status</h2>
  <ul>
    <% @previous_statuses.each do |status| %>
      <li>
        <%= render 'status_item', status: status %>
      </li>
    <% end %>
  </ul>
<% end %>

<div>
  <h2>
    cURL API examples: Please update the username and password ğŸš€
  </h2>
  <p>
    <strong>Create a status message:</strong>
      curl -u username:password --data "state=UP&message=All systems are running." <%= base_url %>/status.json
    </p>
  <p>
    <strong>Update a status message:</strong>
    curl -u username:password -X PUT --data "id=28&state=DOWN&message=We are experiencing issues with the flux capacitor." <%= base_url %>/status.json
  </p>
</div>
